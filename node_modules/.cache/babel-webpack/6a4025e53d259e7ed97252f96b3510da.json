{"ast":null,"code":"import _asyncToGenerator from \"/Users/macbook/Desktop/dev/hichami/esamsar/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { timer } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngx-translate/core\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./components/shared/header/header.component\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"./components/shared/footer/footer.component\";\nimport * as i6 from \"@angular/forms\";\n\nfunction AppComponent_option_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const language_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", language_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", language_r2, \" \");\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(renderer, translate) {\n      this.renderer = renderer;\n      this.translate = translate;\n      this.title = 'Esemsar'; // Register translation languages\n\n      translate.addLangs(['ar', 'fr']); // Set default language\n\n      translate.setDefaultLang('ar');\n      document.dir = \"rtl\";\n    }\n\n    ngAfterViewInit() {\n      window.addEventListener('beforeinstallprompt', e => {\n        this.deferredPrompt = e;\n      });\n      let loader = this.renderer.selectRootElement('#preloader');\n      timer(2000).toPromise().then(() => {\n        this.renderer.setStyle(loader, 'display', 'none');\n      });\n    } //Switch language\n\n\n    translateLanguageTo(lang) {\n      this.translate.use(lang);\n\n      if (lang === \"fr\") {\n        document.dir = \"ltr\";\n      }\n\n      if (lang === \"ar\") {\n        document.dir = \"rtl\";\n      }\n    }\n\n    installPwa() {\n      var _this = this;\n\n      /*#__PURE__*/\n      _asyncToGenerator(function* () {\n        if (_this.deferredPrompt !== null) {\n          _this.deferredPrompt.prompt();\n\n          const {\n            outcome\n          } = yield _this.deferredPrompt.userChoice;\n\n          if (outcome === 'accepted') {\n            _this.deferredPrompt = null;\n          }\n        }\n      });\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i1.TranslateService));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 18,\n    vars: 7,\n    consts: [[1, \"translate-btn\"], [\"id\", \"lang\", 1, \"form-select\", 3, \"change\"], [\"selLang\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"outlet\"], [1, \"text-muted\", \"py-5\"], [1, \"container-fuild\", \"py-5\", \"bg-dark\"], [1, \"m-2\", \"text-center\", \"text-white\", \"py-2\"], [\"href\", \"https://elhachimie-technology.site/\"], [1, \"btn\", \"btn-dark\", \"install\", 3, \"click\"], [3, \"value\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r3 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"select\", 1, 2);\n        i0.ɵɵlistener(\"change\", function AppComponent_Template_select_change_1_listener() {\n          i0.ɵɵrestoreView(_r3);\n\n          const _r0 = i0.ɵɵreference(2);\n\n          return ctx.translateLanguageTo(_r0.value);\n        });\n        i0.ɵɵtemplate(3, AppComponent_option_3_Template, 2, 2, \"option\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"app-header\");\n        i0.ɵɵelementStart(5, \"main\", 4);\n        i0.ɵɵelement(6, \"router-outlet\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"footer\", 5);\n        i0.ɵɵelement(8, \"app-footer\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 6);\n        i0.ɵɵelementStart(10, \"p\", 7);\n        i0.ɵɵtext(11);\n        i0.ɵɵpipe(12, \"translate\");\n        i0.ɵɵelementStart(13, \"a\", 8);\n        i0.ɵɵtext(14);\n        i0.ɵɵpipe(15, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_16_listener() {\n          return ctx.installPwa();\n        });\n        i0.ɵɵtext(17, \" \\u062D\\u0645\\u0644 \\u0627\\u0644\\u062A\\u0637\\u0628\\u064A\\u0642 \\u0627\\u0644\\u0627\\u0646\\n\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.translate.getLangs());\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate1(\" 2022 \\u00A9 \", i0.ɵɵpipeBind1(12, 3, \"FOOTER.COPY\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 5, \"FOOTER.LINK\"), \" \");\n      }\n    },\n    directives: [i2.NgForOf, i3.HeaderComponent, i4.RouterOutlet, i5.FooterComponent, i6.NgSelectOption, i6.ɵNgSelectMultipleOption],\n    pipes: [i1.TranslatePipe],\n    styles: [\".translate-btn[_ngcontent-%COMP%]{display:inline-block;position:fixed;z-index:999999;top:0;left:10%}.install[_ngcontent-%COMP%]{position:absolute;top:4px;right:0}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}